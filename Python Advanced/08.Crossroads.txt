from collections import deque

green_time = int(input())
free_window_time = int(input())

info = input()
cars = deque()
is_crashed = False
car_counter = 0

while not info == 'END':
    green_timer = green_time
    window_timer = free_window_time
    if info == 'green':
        if not cars:
            info = input()
            continue

        full_name_car = cars.popleft()
        current_car = deque(full_name_car)

        while green_timer > 0:
            current_car.popleft()
            green_timer -= 1
            if not current_car and green_timer > 0:
                if cars:
                    full_name_car = cars.popleft()
                    current_car = deque(full_name_car)
                    car_counter += 1
                else:
                    break
        if current_car:
            while window_timer > 0 and len(current_car) > 0:
                current_car.popleft()
                window_timer -= 1

        if current_car:
            print(f"A crash happened!")
            print(f"{full_name_car} was hit at {current_car[0]}.")
            is_crashed = True
            break

        car_counter += 1

    else:
        cars.append(info)

    info = input()

if not is_crashed:
    print(f'Everyone is safe.')
    print(f"{car_counter} total cars passed the crossroads.")